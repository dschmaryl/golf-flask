(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(t,e,a){t.exports=a(58)},32:function(t,e,a){},57:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(10),o=a.n(s),c=(a(32),a(4)),u=a(5),l=a(8),i=a(6),d=a(9),f=a(1),m=a(7),h=a.n(m),p=a(2);function v(){var t=Object(f.a)(["\n  font-weight: bold;\n  text-align: right;\n"]);return v=function(){return t},t}function k(){var t=Object(f.a)(["\n  font-weight: bold;\n"]);return k=function(){return t},t}var E=p.a.div(k()),y=p.a.div(v());function b(t){var e=function(e,a,n){return"date"===e||"course"===e?r.a.createElement(E,{className:"col-xs-3",onClick:function(){return t.onClick(a,n)}},e):r.a.createElement(y,{className:"col-xs-1",onClick:function(){return t.onClick(a,n)}},e)};return r.a.createElement("div",{className:"row",style:{cursor:"pointer"}},e("date","date",!1),e("course","course",!1),e("score","total_strokes",!0),e("front","front_9_strokes",!0),e("back","back_9_strokes",!0),e("putts","total_putts",!0),e("girs","total_gir",!1),e("hdcp","handicap_index",!0))}var g=a(11),D=a.n(g),_={textAlign:"left"},O={textAlign:"right"},S={textAlign:"Right",maxWidth:"28px"};function j(t){var e=t.roundData;function a(t,a){return Array(9).fill().map(function(n,r){return e.holes[r+t][a]}).reduce(function(t,e){return t+e},0)}function n(t,a){function n(t,a){return Array(9).fill().map(function(n,s){return r.a.createElement("td",{style:S,key:a+"_"+(s+t)},(o=s+t,"gir"===a?e.holes[o].gir?"*":"":e.holes[o][a]));var o})}return r.a.createElement("tr",null,r.a.createElement("td",{style:_},t,":"),n(1,a),r.a.createElement("td",{style:O},e["front_9_"+a]),n(10,a),r.a.createElement("td",{style:O},e["back_9_"+a]),r.a.createElement("td",{style:O},e["total_"+a]))}return e.front_9_par=a(1,"par"),e.back_9_par=a(10,"par"),e.total_par=e.front_9_par+e.back_9_par,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("table",{className:"table",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:_},"hole:"),Array(9).fill().map(function(t,e){return r.a.createElement("th",{style:S,key:"hole_"+(e+1)},e+1)}),r.a.createElement("th",{style:O},"front"),Array(9).fill().map(function(t,e){return r.a.createElement("th",{style:S,key:"hole_"+(e+10)},e+10)}),r.a.createElement("th",{style:O},"back"),r.a.createElement("th",{style:O},"total"))),r.a.createElement("tbody",null,n("par","par"),n("score","strokes"),n("putts","putts"),n("gir","gir")))))}function x(){var t=Object(f.a)(["\n  text-align: right;\n"]);return x=function(){return t},t}function w(){var t=Object(f.a)(["\n  background-color: #f1f5f1;\n"]);return w=function(){return t},t}var C=p.a.div(w()),N=p.a.div(x());function R(t){var e=t.roundData,a=["date","course","total_strokes","front_9_strokes","back_9_strokes","total_putts","total_gir","handicap_index"];return r.a.createElement("div",{onClick:t.onClick,style:{cursor:"pointer"}},r.a.createElement("div",{className:"row selected-round-row"},a.map(function(e){return function(e){return"date"===e?r.a.createElement(C,{className:"col-xs-3",key:e},r.a.createElement(D.a,{format:"YYYY-MM-DD"},t.roundData.date)):"course"===e?r.a.createElement(C,{className:"col-xs-3",key:e},t.roundData.course):r.a.createElement(C,{className:"col-xs-1",key:e},r.a.createElement(N,null,t.roundData[e]))}(e)})),r.a.createElement(j,{roundData:e}))}a(57);var F=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(i.a)(e).call(this,t))).state={selectedRound:null,rounds:{}},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({selectedRound:null})}},{key:"onRoundClick",value:function(t){var e=this;-1!==Object.keys(this.state.rounds).indexOf(""+t)?this.setState({roundData:this.state.rounds[t],selectedRound:t}):h.a.get("/api/round/"+t).then(function(a){var n=e.state.rounds;n[t]=a.data,e.setState({roundData:a.data,rounds:n,selectedRound:t})})}},{key:"clickedSelected",value:function(){this.setState({selectedRound:null})}},{key:"render",value:function(){var t=this;return Object.keys(this.props.roundsData).reverse().map(function(e){var a=t.props.roundsData[e];if(a.id===t.state.selectedRound)return r.a.createElement(R,{round:a,roundData:t.state.roundData,onClick:function(){return t.clickedSelected()},key:e});function n(t,e){return r.a.createElement("div",{className:e},t)}return r.a.createElement("div",{className:"row",onClick:function(){return t.onRoundClick(a.id)},style:{cursor:"pointer"},key:e},n(r.a.createElement(D.a,{format:"YYYY-MM-DD"},a.date),"col-xs-3 round-date"),n(a.course,"col-xs-3 round-course"),n(a.total_strokes,"col-xs-1 round-stat"),n(a.front_9_strokes,"col-xs-1 round-stat"),n(a.back_9_strokes,"col-xs-1 round-stat"),n(a.total_putts,"col-xs-1 round-stat"),n(a.total_gir,"col-xs-1 round-stat"),n(a.handicap_index,"col-xs-1 round-stat"))})}}]),e}(r.a.Component),q=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(i.a)(e).call(this,t))).state={lastSortedBy:"",lastSortReversed:!1},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;h.a.get("/api/user/"+this.props.userData.id+"/rounds").then(function(e){e.error?t.setState({requestFailed:!0}):t.setState({roundsData:e.data})}).catch(function(){return t.setState({requestFailed:!0})})}},{key:"sortRounds",value:function(t,e){var a=this.state.roundsData,n=this.state.lastSortReversed;function r(t,e){return Object.values(a).sort(function(a,n){return"date"===t?e?new Date(n.date)-new Date(a.date):new Date(a.date)-new Date(n.date):"course"===t?e?n.course<a.course:a.course<n.course:e?n[t]-a[t]:a[t]-n[t]})}t===this.state.lastSortedBy?this.setState({roundsData:r(t,!n)}):(this.setState({roundsData:r(t,e)}),n=!e),this.setState({lastSortedBy:t,lastSortReversed:!n})}},{key:"seasonRoundsData",value:function(){var t=this;if(this.props.selectedSeason&&"2046"!==this.props.selectedSeason){var e={};return Object.keys(this.state.roundsData).forEach(function(a){new Date(t.state.roundsData[a].date).getFullYear().toString()===t.props.selectedSeason&&(e[a]=t.state.roundsData[a])}),e}return this.state.roundsData}},{key:"render",value:function(){var t=this;return this.state.roundsData?r.a.createElement("div",null,r.a.createElement(b,{onClick:function(e,a){return t.sortRounds(e,a)}}),r.a.createElement(F,{roundsData:this.seasonRoundsData()})):this.state.requestFailed?r.a.createElement("p",null,"error getting rounds"):r.a.createElement("p",null,"loading rounds...")}}]),e}(r.a.Component);function A(){var t=Object(f.a)(["\n  cursor: pointer;\n  text-align: right;\n"]);return A=function(){return t},t}var Y=p.a.th(A());function M(t){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"season:"),t.seasons.map(function(e){return r.a.createElement(Y,{onClick:function(){return t.onClick(e)},key:e},"2046"===e?"overall":e)})))}function z(){var t=Object(f.a)(["\n  cursor: pointer;\n  text-align: right;\n"]);return z=function(){return t},t}var B=p.a.td(z());function J(t){var e={strokes:"scoring average",putts:"putts per round",gir:"greens per round",handicap:"handicap",par3:"par 3 average",par4:"par 4 average",par5:"par 5 average"};return r.a.createElement("tbody",null,Object.keys(e).map(function(a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e[a],":"),t.seasons.map(function(e){return r.a.createElement(B,{onClick:function(){return t.onClick(e)},key:e+"-"+a},t.statsData[e][a])}))}))}var W=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(i.a)(e).call(this,t))).state={requestFailed:!1},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;h.a.get("/api/user/"+this.props.userData.id+"/stats").then(function(e){e.error?t.setState({requestFailed:!0}):t.setState({statsData:e.data})}).catch(function(){return t.setState({requestFailed:!0})})}},{key:"render",value:function(){var t=this;return this.state.statsData?r.a.createElement("table",{style:{width:"100%"}},r.a.createElement(M,{seasons:Object.keys(this.state.statsData).sort().reverse(),onClick:function(e){return t.props.onSeasonClick(e)}}),r.a.createElement(J,{seasons:Object.keys(this.state.statsData).sort().reverse(),statsData:this.state.statsData,onClick:function(e){return t.props.onSeasonClick(e)}})):this.state.requestFailed?r.a.createElement("p",null,"error gettings stats"):r.a.createElement("p",null,"loading stats")}}]),e}(r.a.Component);function I(){var t=Object(f.a)(["\n  padding: 10%;\n"]);return I=function(){return t},t}function L(){var t=Object(f.a)(["\n  text-align: center;\n"]);return L=function(){return t},t}function P(){var t=Object(f.a)(["\n  padding-top: 20px;\n  padding-bottom: 20px;\n"]);return P=function(){return t},t}function G(){var t=Object(f.a)(["\n  max-width: 720px;\n  min-width: 340px;\n  margin: auto;\n"]);return G=function(){return t},t}var H=p.a.div(G()),K=p.a.div(P()),Q=p.a.div(L()),T=p.a.div(I()),U=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(r)))).state={requestFailed:!1},a.componentDidMount=function(){return h.a.get("/api/my_info").then(function(t){"not authorized"===t.data.error?a.setState({notAuthorized:!0}):t.data.error?a.setState({requestFailed:!0}):a.setState({userData:t.data})}).catch(function(){return a.setState({requestFailed:!0})})},a.onSeasonClick=function(t){return a.setState({selectedSeason:t})},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return this.state.userData?r.a.createElement(H,{className:"container"},r.a.createElement(Q,{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("h3",null,"all statistics"))),r.a.createElement(K,{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(W,{userData:this.state.userData,onSeasonClick:function(e){return t.onSeasonClick(e)}}))),r.a.createElement(K,{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(q,{userData:this.state.userData,selectedSeason:this.state.selectedSeason})))):r.a.createElement(T,{className:"container"},this.state.notAuthorized?"Not authorized":this.state.requestFailed?"Failed to retrieve user data":"Loading user data...")}}]),e}(r.a.Component);o.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.6c3ad8cc.chunk.js.map