(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(56)},31:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),o=a.n(s),c=(a(31),a(4)),u=a(7),l=a(5),i=a(8),d=a(1),m=a(6),f=a.n(m),p=a(2);function E(){var e=Object(d.a)(["\n  font-weight: bold;\n  text-align: right;\n"]);return E=function(){return e},e}function v(){var e=Object(d.a)(["\n  font-weight: bold;\n"]);return v=function(){return e},e}var h=p.a.div(v()),k=p.a.div(E()),g=function(e,t,a,n){return"date"===e||"course"===e?r.a.createElement(h,{className:"col-xs-3",onClick:function(){return n(t,a)}},e):r.a.createElement(k,{className:"col-xs-1",onClick:function(){return n(t,a)}},e)},b=function(e){var t=e.onClick;return r.a.createElement("div",{className:"row",style:{cursor:"pointer"}},g("date","date",!1,t),g("course","course",!1,t),g("score","total_strokes",!0,t),g("front","front_9_strokes",!0,t),g("back","back_9_strokes",!0,t),g("putts","total_putts",!0,t),g("girs","total_gir",!1,t),g("hdcp","handicap_index",!0,t))},y=a(10),D=a.n(y),_={textAlign:"left"},x={textAlign:"right"},S={textAlign:"Right",maxWidth:"28px"},O=function(e){return Array.from({length:9},e)},j=function(e){var t=e.roundData,a=function(e,a){return O(function(n,r){return t.holes[r+e][a]}).reduce(function(e,t){return e+t})};t.front_9_par=a(1,"par"),t.back_9_par=a(10,"par"),t.total_par=t.front_9_par+t.back_9_par;var n=function(e,a){return O(function(n,s){return r.a.createElement("td",{style:S,key:a+"_"+(s+e)},function(e,a){return"gir"===a?t.holes[e].gir?"*":"":t.holes[e][a]}(s+e,a))})},s=function(e,a){return r.a.createElement("tr",null,r.a.createElement("td",{style:_},e,":"),n(1,a),r.a.createElement("td",{style:x},t["front_9_"+a]),n(10,a),r.a.createElement("td",{style:x},t["back_9_"+a]),r.a.createElement("td",{style:x},t["total_"+a]))};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("table",{className:"table",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:_},"hole:"),O(function(e,t){return r.a.createElement("th",{style:S,key:"hole_"+(t+1)},t+1)}),r.a.createElement("th",{style:x},"front"),O(function(e,t){return r.a.createElement("th",{style:S,key:"hole_"+(t+10)},t+10)}),r.a.createElement("th",{style:x},"back"),r.a.createElement("th",{style:x},"total"))),r.a.createElement("tbody",null,s("par","par"),s("score","strokes"),s("putts","putts"),s("gir","gir")))))};function w(){var e=Object(d.a)(["\n  text-align: right;\n"]);return w=function(){return e},e}function N(){var e=Object(d.a)(["\n  background-color: #f1f5f1;\n"]);return N=function(){return e},e}var C=p.a.div(N()),R=p.a.div(w()),F=["date","course","total_strokes","front_9_strokes","back_9_strokes","total_putts","total_gir","handicap_index"],q=function(e){var t=e.roundData,a=e.onClick;return r.a.createElement("div",{onClick:a,style:{cursor:"pointer"}},r.a.createElement("div",{className:"row selected-round-row"},F.map(function(e){return function(e){return"date"===e?r.a.createElement(C,{className:"col-xs-3",key:e},r.a.createElement(D.a,{format:"YYYY-MM-DD"},t.date)):"course"===e?r.a.createElement(C,{className:"col-xs-3",key:e},t.course):r.a.createElement(C,{className:"col-xs-1",key:e},r.a.createElement(R,null,t[e]))}(e)})),r.a.createElement(j,{roundData:t}))};function A(){var e=Object(d.a)(["\n  text-align: right;\n"]);return A=function(){return e},e}var Y=p.a.div(A()),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={selectedRound:null,rounds:{}},a.componentWillReceiveProps=function(){return a.setState({selectedRound:null})},a.onRoundClick=function(e){-1!==Object.keys(a.state.rounds).indexOf(""+e)?a.setState({roundData:a.state.rounds[e],selectedRound:e}):f.a.get("/api/round/"+e).then(function(t){var n=a.state.rounds;n[e]=t.data,a.setState({roundData:t.data,rounds:n,selectedRound:e})})},a.render=function(){return Object.keys(a.props.roundsData).reverse().map(function(e){var t=a.props.roundsData[e];return t.id===a.state.selectedRound?r.a.createElement(q,{round:t,roundData:a.state.roundData,onClick:function(){return a.setState({selectedRound:null})},key:e}):r.a.createElement("div",{className:"row",onClick:function(){return a.onRoundClick(t.id)},style:{cursor:"pointer"},key:e},r.a.createElement("div",{className:"col-xs-3"},r.a.createElement(D.a,{format:"YYYY-MM-DD"},t.date)),r.a.createElement("div",{className:"col-xs-3"},t.course),r.a.createElement(Y,{className:"col-xs-1"},t.total_strokes),r.a.createElement(Y,{className:"col-xs-1"},t.front_9_strokes),r.a.createElement(Y,{className:"col-xs-1"},t.back_9_strokes),r.a.createElement(Y,{className:"col-xs-1"},t.total_putts),r.a.createElement(Y,{className:"col-xs-1"},t.total_gir),r.a.createElement(Y,{className:"col-xs-1"},t.handicap_index))})},a}return Object(i.a)(t,e),t}(r.a.Component),z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={lastSortedBy:"",lastSortReversed:!1},a.componentDidMount=function(){return f.a.get("/api/user/"+a.props.userData.id+"/rounds").then(function(e){e.error?a.setState({requestFailed:!0}):a.setState({roundsData:e.data})}).catch(function(){return a.setState({requestFailed:!0})})},a.sortRounds=function(e,t){var n=a.state.roundsData,r=a.state.lastSortReversed,s=function(e,t){return Object.values(n).sort(function(a,n){return"date"===e?t?new Date(n.date)-new Date(a.date):new Date(a.date)-new Date(n.date):"course"===e?t?n.course<a.course:a.course<n.course:t?n[e]-a[e]:a[e]-n[e]})};e===a.state.lastSortedBy?a.setState({roundsData:s(e,!r)}):(a.setState({roundsData:s(e,t)}),r=!t),a.setState({lastSortedBy:e,lastSortReversed:!r})},a.seasonRoundsData=function(){if(a.props.selectedSeason&&"2046"!==a.props.selectedSeason){var e={};return Object.keys(a.state.roundsData).forEach(function(t){new Date(a.state.roundsData[t].date).getFullYear().toString()===a.props.selectedSeason&&(e[t]=a.state.roundsData[t])}),e}return a.state.roundsData},a.render=function(){return a.state.roundsData?r.a.createElement("div",null,r.a.createElement(b,{onClick:function(e,t){return a.sortRounds(e,t)}}),r.a.createElement(M,{roundsData:a.seasonRoundsData()})):a.state.requestFailed?r.a.createElement("p",null,"error getting rounds"):r.a.createElement("p",null,"loading rounds...")},a}return Object(i.a)(t,e),t}(r.a.Component);function B(){var e=Object(d.a)(["\n  cursor: pointer;\n  text-align: right;\n"]);return B=function(){return e},e}var J=p.a.th(B()),W=function(e){var t=e.seasons,a=e.onClick;return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"season:"),t.map(function(e){return r.a.createElement(J,{onClick:function(){return a(e)},key:e},"2046"===e?"overall":e)})))};function I(){var e=Object(d.a)(["\n  cursor: pointer;\n  text-align: right;\n"]);return I=function(){return e},e}var L=p.a.td(I()),P={strokes:"scoring average",putts:"putts per round",gir:"greens per round",handicap:"handicap",par3:"par 3 average",par4:"par 4 average",par5:"par 5 average"},G=function(e){var t=e.seasons,a=e.statsData,n=e.onClick;return r.a.createElement("tbody",null,Object.keys(P).map(function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,P[e],":"),t.map(function(t){return r.a.createElement(L,{onClick:function(){return n(t)},key:t+"-"+e},a[t][e])}))}))},H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={requestFailed:!1},a.componentDidMount=function(){return f.a.get("/api/user/"+a.props.userData.id+"/stats").then(function(e){e.error?a.setState({requestFailed:!0}):a.setState({statsData:e.data})}).catch(function(){return a.setState({requestFailed:!0})})},a.render=function(){return a.state.statsData?r.a.createElement("table",{style:{width:"100%"}},r.a.createElement(W,{seasons:Object.keys(a.state.statsData).sort().reverse(),onClick:function(e){return a.props.onSeasonClick(e)}}),r.a.createElement(G,{seasons:Object.keys(a.state.statsData).sort().reverse(),statsData:a.state.statsData,onClick:function(e){return a.props.onSeasonClick(e)}})):a.state.requestFailed?r.a.createElement("p",null,"error gettings stats"):r.a.createElement("p",null,"loading stats")},a}return Object(i.a)(t,e),t}(r.a.Component);function K(){var e=Object(d.a)(["\n  padding: 10%;\n"]);return K=function(){return e},e}function Q(){var e=Object(d.a)(["\n  text-align: center;\n"]);return Q=function(){return e},e}function T(){var e=Object(d.a)(["\n  padding-top: 20px;\n  padding-bottom: 20px;\n"]);return T=function(){return e},e}function U(){var e=Object(d.a)(["\n  max-width: 720px;\n  min-width: 340px;\n  margin: auto;\n"]);return U=function(){return e},e}var V=p.a.div(U()),X=p.a.div(T()),Z=p.a.div(Q()),$=p.a.div(K()),ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={requestFailed:!1},a.componentDidMount=function(){return f.a.get("/api/my_info").then(function(e){return"not authorized"===e.data.error?a.setState({notAuthorized:!0}):e.data.error?a.setState({requestFailed:!0}):a.setState({userData:e.data})}).catch(function(){return a.setState({requestFailed:!0})})},a.onSeasonClick=function(e){return a.setState({selectedSeason:e})},a.render=function(){return a.state.userData?r.a.createElement(V,{className:"container"},r.a.createElement(Z,{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("h3",null,"all statistics"))),r.a.createElement(X,{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(H,{userData:a.state.userData,onSeasonClick:function(e){return a.onSeasonClick(e)}}))),r.a.createElement(X,{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(z,{userData:a.state.userData,selectedSeason:a.state.selectedSeason})))):r.a.createElement($,{className:"container"},a.state.notAuthorized?"Not authorized":a.state.requestFailed?"Failed to retrieve user data":"Loading user data...")},a}return Object(i.a)(t,e),t}(r.a.Component);o.a.render(r.a.createElement(ee,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c57e801f.chunk.js.map